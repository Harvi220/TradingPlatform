# Trading Platform - Database Documentation

**–í–µ—Ä—Å–∏—è:** 1.1
**–î–∞—Ç–∞:** 2025-11-16

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ:

### [üìñ DOCUMENTATION.md](./DOCUMENTATION.md) - –ü–û–õ–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
1. ‚úÖ Executive Summary (–∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –¥–ª—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞)
2. ‚úÖ –í–≤–µ–¥–µ–Ω–∏–µ –∏ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
3. ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
4. ‚úÖ –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü)
5. ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ø–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)
6. ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
7. ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ (–≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)
8. ‚úÖ API endpoints
9. ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
10. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ troubleshooting
11. ‚úÖ FAQ

**–†–∞–∑–º–µ—Ä:** ~51 KB (~200 —Å—Ç—Ä–∞–Ω–∏—Ü)

---

## üìÅ –§–∞–π–ª—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. Prisma Schema
**–§–∞–π–ª:** [prisma-schema.prisma](./prisma-schema.prisma)

–ì–æ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
cp docs/prisma-schema.prisma prisma/schema.prisma
npx prisma migrate dev --name init_snapshots
```

### 2. TimescaleDB Setup
**–§–∞–π–ª:** [../scripts/init-timescaledb.sql](../scripts/init-timescaledb.sql)

SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ TimescaleDB:
```bash
docker-compose exec db psql -U postgres -d tradingdb -f /docker-entrypoint-initdb.d/init.sql
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ [DOCUMENTATION.md](./DOCUMENTATION.md)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —Ä–∞–∑–¥–µ–ª—É **"5. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç"**
3. –°–ª–µ–¥—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤—ã–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º

---

## üìä –ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

**–ß–∞—Å—Ç–æ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:** 1 —Ä–∞–∑ –≤ –ú–ò–ù–£–¢–£

**–†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö (10 —Å–∏–º–≤–æ–ª–æ–≤, 1 –≥–æ–¥):**
- Raw –¥–∞–Ω–Ω—ã–µ: ~200 MB (—Å compression)
- –ê–≥—Ä–µ–≥–∞—Ç—ã: ~350 MB
- **–ò—Ç–æ–≥–æ:** ~550-600 MB

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –ó–∞–ø–∏—Å—å: 12 snapshots/–º–∏–Ω—É—Ç–∞ (1 —Å–∏–º–≤–æ–ª)
- –ß—Ç–µ–Ω–∏–µ (cache hit): < 50ms
- –ß—Ç–µ–Ω–∏–µ (cache miss): < 300ms

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- PostgreSQL 16 + TimescaleDB
- Redis 7
- Prisma ORM

---

## üìñ –ö–∞–∫ —á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –î–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ (5 –º–∏–Ω—É—Ç)
–û—Ç–∫—Ä–æ–π—Ç–µ [DOCUMENTATION.md](./DOCUMENTATION.md) ‚Üí —Ä–∞–∑–¥–µ–ª **"1. Executive Summary"**

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (30 –º–∏–Ω—É—Ç)
–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–¥–µ–ª—ã 1-6 –≤ [DOCUMENTATION.md](./DOCUMENTATION.md)

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ (2 —á–∞—Å–∞)
–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª **"5. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç"** –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ:
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ì–æ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –ë–î
- ‚úÖ SQL —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

**–ù–∞—á–Ω–∏—Ç–µ —Å [DOCUMENTATION.md](./DOCUMENTATION.md)!**
